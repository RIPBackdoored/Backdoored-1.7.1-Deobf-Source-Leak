package r.k.d.m.exploit;

import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import java.time.temporal.Temporal;
import java.time.Duration;
import net.minecraft.network.play.client.CPacketKeepAlive;
import r.k.d.o.h.i.x;
import java.time.Instant;
import r.k.d.o.m;
import r.k.d.c.y;
import r.k.d.m.g$i;
import r.k.d.m.g;

@g$i(name = "Ping Spoof", description = "Spoof your ping retard", category = y.EXPLOIT)
public class PingSpoof extends g
{
    private m<Integer> ol;
    private Instant oy;
    public static final boolean ox;
    public static final int ok;
    public static final boolean oq;
    
    public PingSpoof() {
        super();
        this.ol = (m<Integer>)new x("Delay", this, 20, 1, 300);
        this.oy = Instant.now();
    }
    
    @SubscribeEvent
    public void s(final r.k.r.h.y y) {
        if (y.packet instanceof CPacketKeepAlive && this.lo()) {
            if (Duration.between(this.oy, Instant.now()).getSeconds() >= this.ol.yv() / 10.0f) {
                this.oy = Instant.now();
                y.setCanceled(false);
            }
            y.setCanceled(true);
        }
    }
}
