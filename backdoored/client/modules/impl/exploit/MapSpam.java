package r.k.d.m.exploit;

import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.inventory.ClickType;
import net.minecraft.network.play.client.CPacketPlayerTryUseItem;
import net.minecraft.util.EnumHand;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.CPacketHeldItemChange;
import r.k.b.c.h;
import net.minecraft.item.Item;
import r.k.b.b;
import net.minecraft.init.Items;
import r.k.b.v;
import java.time.Instant;
import r.k.d.o.m;
import r.k.d.c.y;
import r.k.d.m.g$i;
import r.k.d.m.g;

@g$i(name = "Map Spam", description = "Spams maps in order to cause a map reset", category = y.EXPLOIT)
public class MapSpam extends g
{
    private m<Double> sss;
    private Instant ssl;
    public static final boolean ssy;
    public static final int ssx;
    public static final boolean ssk;
    
    public MapSpam() {
        super();
        this.ssl = Instant.EPOCH;
    }
    
    public void j() {
        if (this.lo() && v.d(this.ssl, Instant.now(), Math.round(this.sss.yv() * 1000.0))) {
            final int s = b.s((Item)Items.MAP);
            if (s == -1) {
                this.s(false);
                h.sj("No empty maps in your hotbar :(");
                return;
            }
            MapSpam.mc.player.connection.sendPacket((Packet)new CPacketHeldItemChange(s));
            MapSpam.mc.player.inventory.currentItem = s;
            MapSpam.mc.player.connection.sendPacket((Packet)new CPacketPlayerTryUseItem(EnumHand.MAIN_HAND));
            int n = 0;
            if (n <= 44) {
                if (MapSpam.mc.player.inventoryContainer.getSlot(n).getStack().getItem() == Items.FILLED_MAP) {
                    MapSpam.mc.playerController.windowClick(MapSpam.mc.player.openContainer.windowId, n, 0, ClickType.THROW, (EntityPlayer)MapSpam.mc.player);
                    MapSpam.mc.player.inventory.removeStackFromSlot(n);
                }
                ++n;
            }
        }
    }
}
