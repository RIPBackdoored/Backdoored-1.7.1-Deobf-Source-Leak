package r.k.d.m.exploit;

import net.minecraftforge.client.event.GuiOpenEvent;
import net.minecraft.client.gui.GuiScreen;
import net.minecraft.client.gui.GuiGameOver;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraft.network.play.client.CPacketPlayer;
import net.minecraft.network.play.client.CPacketConfirmTeleport;
import r.k.d.o.h.u;
import r.k.d.o.m;
import r.k.d.c.y;
import r.k.d.m.g$i;
import r.k.d.m.g;

@g$i(name = "God Mode", description = "Make yourself invulnerable", category = y.EXPLOIT)
public class GodMode extends g
{
    private final m<n$s> lyp;
    public static final int lyr;
    public static final boolean lyf;
    
    public GodMode() {
        super();
        this.lyp = (m<n$s>)new u("Mode", this, n$s.spo);
    }
    
    @SubscribeEvent
    public void s(final r.k.r.h.y y) {
        if (this.lo()) {
            if (this.lyp.yv() == n$s.spo && y.packet instanceof CPacketConfirmTeleport) {
                y.setCanceled(true);
            }
            if (this.lyp.yv() == n$s.spn && y.packet instanceof CPacketPlayer) {
                y.setCanceled(true);
            }
        }
    }
    
    public void t() {
        if (this.lyp.yv() == n$s.spt) {
            GodMode.mc.player.respawnPlayer();
        }
    }
    
    public void j() {
        if (this.lo() && this.lyp.yv() == n$s.spt) {
            GodMode.mc.player.setHealth(20.0f);
            GodMode.mc.player.getFoodStats().setFoodLevel(20);
            GodMode.mc.player.isDead = false;
            if (GodMode.mc.currentScreen instanceof GuiGameOver) {
                GodMode.mc.displayGuiScreen((GuiScreen)null);
            }
        }
    }
    
    @SubscribeEvent
    public void y(final GuiOpenEvent guiOpenEvent) {
        if (this.lo() && guiOpenEvent.getGui() instanceof GuiGameOver) {
            guiOpenEvent.setCanceled(true);
        }
    }
}
